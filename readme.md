# Image Similarity Search

This script takes an input image and finds the most dominant color of the image. Then it searches for other images in a given folder that have a similar color and generates a dict with top N similar images and theirs distances from input image.

## Installing requirements
`python -m pip install colorthief numpy`

## Usage
### Downloading images and generating json file
`get_items.py` is a script that generates the json file from a folder of images. It takes the folder path as an argument.

### Running the script
`python thieef.py --main_image_name path/to/input/image --input_json path/to/file.json --top N --backup_filename backup.pickle`
- `main_image_name` - path to the input image which we want to find similar images for
- `input_json` - path to the json file that contains the images data (generated by `get_items.py`)
- `top` - number of similar images to show in the output
- `backup_filename` - path to the backup file that will be used to store the images data (generated by first run of `thieef.py`)


## Example
`python thieef.py --main_image_name cases/puff.png --input_json images_data.json --top 3 --backup_filename test.pickle`
`python thieef.py --main_image_name cases/puff.png` - will use default values for images_folder, top and backup_filename (Recommended)

## Output

`analyze_image` function returns a list of dicts with the following structure:

```json
  [
    {
    "name": "Blah | BLah blah blah",
    "image_url": "https://...",
    "image_filename": "path/to/image.png",
    "distance": 4.19
    },
    ...
  ]
```
which contains the name of the item, its image url, filename and the distance from the input image.
